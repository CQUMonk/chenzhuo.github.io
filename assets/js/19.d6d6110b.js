(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{243:function(e,t,a){"use strict";a.r(t);var r=a(0),s=Object(r.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"javascript对象属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#javascript对象属性","aria-hidden":"true"}},[e._v("#")]),e._v(" JavaScript对象属性")]),e._v(" "),a("p",[e._v("在"),a("router-link",{attrs:{to:"/tech/js/js-oo.html"}},[e._v("JavaScript对象与原型体系")]),e._v("中我们提到过， 对象具有状态和行为的特征。")],1),e._v(" "),a("p",[e._v("在其他编程语言中，对象状态和行为分别被抽象成了属性和方法，而"),a("code",[e._v("JavaScript")]),e._v("在自己的对象模型设计中将它们都抽象成了对象的"),a("code",[e._v("属性")]),e._v("。")]),e._v(" "),a("p",[e._v("高度的抽象也使得关于对象的属性设计上明显比Java等其他语言更为复杂， 本文主要对"),a("code",[e._v("JavaScript")]),e._v("的属性的特点以及操作他们的函数进行了梳理和总结。")]),e._v(" "),a("p",[a("code",[e._v("JavaScript")]),e._v("对象的属性主要可以分为"),a("code",[e._v("数据属性")]),e._v("和"),a("code",[e._v("访问器属性")]),e._v("两类，同时，对象所具有的属性并非简单的K-V键值对， 每个属性都由一组特征(attribute)来描述。")]),e._v(" "),a("h2",{attrs:{id:"数据属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据属性","aria-hidden":"true"}},[e._v("#")]),e._v(" 数据属性")]),e._v(" "),a("p",[e._v("数据属性是我们通常使用的K-V键值对，它主要有四个特征来描述：")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("value")]),e._v(" 属性的数据值， 默认值为undefined")]),e._v(" "),a("li",[a("code",[e._v("enumerable")]),e._v(" 表示该属性是否可枚举")]),e._v(" "),a("li",[a("code",[e._v("configurable")]),e._v(" 表示该属性是否能被删除，或特征值被修改")]),e._v(" "),a("li",[a("code",[e._v("writable")]),e._v(" 表示该"),a("code",[e._v("属性值")]),e._v("是否能修改")])]),e._v(" "),a("h2",{attrs:{id:"访问器属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#访问器属性","aria-hidden":"true"}},[e._v("#")]),e._v(" 访问器属性")]),e._v(" "),a("p",[e._v("访问器属性定义了在访问对象属性时的行为，它同样有四个特征来描述：")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("get")]),e._v(" 读取属性时调用的函数， 默认值为undefined")]),e._v(" "),a("li",[a("code",[e._v("set")]),e._v(" 设置属性时访问的函数， 默认值为undefined")]),e._v(" "),a("li",[a("code",[e._v("enumerable")]),e._v(" 表示该属性是否可枚举")]),e._v(" "),a("li",[a("code",[e._v("configurable")]),e._v(" 表示该属性是否能被删除，或特征值被修改")])]),e._v(" "),a("h2",{attrs:{id:"定义和修改属性的特征"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#定义和修改属性的特征","aria-hidden":"true"}},[e._v("#")]),e._v(" 定义和修改属性的特征")]),e._v(" "),a("p",[e._v("在日常开发过程中，我们通常会直接为某个对象的属性赋值：")]),e._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("var")]),e._v(" obj"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  aaa"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"bbb"')]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("get")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("bbb")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("return")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"aaa"')]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),a("p",[e._v("通过这种方式所产生的数据属性特征{enumerable, configurable, writable} 都默认为true.")]),e._v(" "),a("p",[e._v("我们还可以使用"),a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty",target:"_blank",rel:"noopener noreferrer"}},[e._v("Object.defineProperty"),a("OutboundLink")],1),e._v("函数定义或修改对象的数据属性或者访问器属性。")]),e._v(" "),a("p",[e._v("这里需要注意的一点是， 通过"),a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty",target:"_blank",rel:"noopener noreferrer"}},[e._v("Object.defineProperty"),a("OutboundLink")],1),e._v("函数所定义的属性，如果没有显式指定相应的特征值， 则{enumerable, configurable, writable} 都默认取值为false.")]),e._v(" "),a("p",[e._v("通过"),a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor",target:"_blank",rel:"noopener noreferrer"}},[e._v("Object.getOwnPropertyDescriptor"),a("OutboundLink")],1),e._v("函数， 可以读取指定对象上自身属性的属性特征（属性特征描述符）， 改方法返回了一个关于属性特征的"),a("code",[e._v("Descriptor")]),e._v("对象:")]),e._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  enumerable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  configurable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  writable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("set")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),a("p",[e._v("通过Descriptor可以访问到指定属性的特征值。")]),e._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",[e._v("属性的"),a("code",[e._v("configurable")]),e._v("特征通常表示该属性本身是否能够被删除或被修改， 一旦设置为false则无法改为true。\n同时，当"),a("code",[e._v("configurable")]),e._v("为false的时候， 除了能修改"),a("code",[e._v("writable")]),e._v("之外的特征值都会报错。")])]),e._v(" "),a("h3",{attrs:{id:"总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结","aria-hidden":"true"}},[e._v("#")]),e._v(" 总结")]),e._v(" "),a("p",[e._v("通过上面的介绍，我们可以看到，"),a("code",[e._v("JavaScript")]),e._v("对象模型其实是一个Map结构："),a("code",[e._v("<propName:Descriptor>")]),e._v(", key是属性名，而value则是该属性的Descriptor对象。")]),e._v(" "),a("p",[e._v("这样的设计让"),a("code",[e._v("JavaScript")]),e._v("的对象属性具有了强大的动态性，可以在运行时灵活地修改一个对象的属性。")])])}),[],!1,null,null,null);t.default=s.exports}}]);